<!DOCTYPE html>
<html>
<head>
    <meta charset = "utf-8"/>
    <title>Page Title</title>
    <link rel = "stylesheet" type = "text/css" href="calStyleSheet.css">
</head>
<body>
    <div id = "wrapper">
        
        <div id = "header">
            Title Here
        </div>
        
        <div id = "main">
            
            <div id = "nav">
                Natigation <br>
                Bar 
            </div>
            <script>
                document.addEventListener("DOMContentLoaded", fetchDate, false);
                
                var src = "http://classes.engineering.wustl.edu/cse330/content/weather_json.php"
                
                function fetchDate() {
                    var xmlHttp = new XMLHttpRequest();
                    
                    xmlHttp.open("GET", src, true);
                    xmlHttp.addEventListener("load", ajaxCallback, false);
                    xmlHttp.send(null)
                }
                
                function ajaxCallback(event){
                    var jsonData = JSON.parse(event.target.responseText);
    
                    var dateString = jsonData.current.date;
                    var dateSplit = dateString.split(" ");
                    
                    var weekday = dateSplit[0].slice(0,3);
                    var day = dateSplit[1];
                    var month = dateSplit[2];
                    var year = dateSplit[3];
                                        
                    var weekNum = parseInt( parseInt(day) / 7 ) + 1;
                    
                    var dateId = weekday + weekNum
                    
                    
                    
                    var weekdays = ["Sun","Mon","Tue","Wed","Thu","Fri", "Sat"];
                    var daysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
                    var months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
                    
                    
                    var startingWeekDay;
                    for(var i = 0; i < weekdays.length;i+=1){
                        if (weekdays[i]==weekday) {
                            for(var j = i; j < 0; i-=1){
                                if (j-weekNum-2 < 0){
                                    var diff = weekNum-2-j;
                                //code
                                }
                        
                        }
                        
                            
                
                    
                    var cWeekDay = weekDay
                    for (var x = day; x > 0; x-=1) {
                        for (var w = 6; w > 0; w-=1){
                            if (cWeekDay == weekdays[w]) {
                                if (cWeekday == "Sun") {
                                    w = 7;
                                }
                                cWeekDay = weekdays[w-1];
                            }
                        }
                    }
                    
                    var numDays = 0;
                    for(var m = 0; m < months.length; m+=1){
                        if (month == months[m]) {
                            numDays = daysInMonth[m];
                        }
                    }
                    
                    
                    for(var d = 1; d <= numDays; d+=1){
                        var currentWeek = 1;
                        for(var w = 0; w < weekdays.length;w+=1){
                            
                            
                            dateId = cWeekDay+currentWeek;
                            document.getElementById(dateId).innerHTML = d;
                        }
                        currentWeek+=1;
                    }
                    
                    
                    
                    
                    for (var week = weekNum; week < 6; week+=1) {
                        document.getElementById(dateId).innerHTML = day;
                        
                    for (var week = 1; week < 6; week++) {
                        
                    }
                    
                    
                    
                    

                    
                    
                    
                    
                    
                    
                    
            </script>
            
            <div id = "cal">
                
                <table id = "monthly" border="1">
                    <tr >
                        <th>Sunday</th>
                        <th>Monday</th>
                        <th>Tuesday</th>
                        <th>Wednesday</th>
                        <th>Thursday</th>
                        <th>Friday</th>
                        <th>Saturday</th>
                    </tr>
                    <tr id = "1" class = "week">
                        <td id = "1.1"></td>
                        <td id = "1.2"></td>
                        <td id = "1.3"></td>
                        <td id = "1.4"></td>
                        <td id = "1.5"></td>
                        <td id = "1.6"></td>
                        <td id = "1.7"></td>
                    </tr>
                    <tr id = "2" class = "week">
                        <td id = "2.1"></td>
                        <td id = "2.2"></td>
                        <td id = "2.3"></td>
                        <td id = "2.4"></td>
                        <td id = "2.5"></td>
                        <td id = "2.6"></td>
                        <td id = "2.7"></td>
                    </tr>
                    <tr id = "3" class = "week">
                        <td id = "sun3"></td>
                        <td id = "mon3"></td>
                        <td id = "tue3"></td>
                        <td id = "wed3"></td>
                        <td id = "thu3"></td>
                        <td id = "fri3"></td>
                        <td id = "sat3"></td>
                    </tr>
                    <tr id = "4" class = "week">
                        <td id = "sun4"></td>
                        <td id = "mon4"></td>
                        <td id = "tue4"></td>
                        <td id = "wed4"></td>
                        <td id = "thu4"></td>
                        <td id = "fri4"></td>
                        <td id = "sat4"></td>
                    </tr>
                    <tr id = "5" class = "week">
                        <td id = "sun5"></td>
                        <td id = "mon5"></td>
                        <td id = "tue5"></td>
                        <td id = "wed5"></td>
                        <td id = "thu5"></td>
                        <td id = "fri5"></td>
                        <td id = "sat5"></td>
                    </tr>
                    <tr id = "6" class = "week">
                        <td id = "sun6"></td>
                        <td id = "mon6"></td>
                        <td id = "tue6"></td>
                        <td id = "wed6"></td>
                        <td id = "thu6"></td>
                        <td id = "fri6"></td>
                        <td id = "sat6"></td>
                    </tr>
                    </table>
                
            </div>
        </div>
    </div>
</body>
</html>
